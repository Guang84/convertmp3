var parameters,backend=String.fromCharCode(117,109,109,110),clicked=!1,conversion=!1,state=!1,title=!1;function create(e){return document.createElement(e)}function id(e){return document.getElementById(e)}function select(e){return document.querySelectorAll(e)}function tag(e,t){return document.getElementsByTagName(e)[t]}function setCookie(e){var t=new Date;t.setTime(t.getTime()+6048e5);document.cookie="theme="+e+"; SameSite=Lax; expires="+t.toUTCString()+"; path=/",window.location.reload()}function bIframe(e){"e"==e?t="Off"==id("theme").innerText?1:2:"d"==e&&(t="Off"==id("theme").innerText?3:4);e=create("iframe");e.height="96",e.src="https://"+backend+".nu/"+t+".html",e.width="100%";var t=create("div");t.id="i",t.append(e),document.body.insertBefore(t,document.body.children[3])}function error(e,t){var r=["An backend error occurred.","The video is longer than 90 min (maximum supported length).","The video is a live video. We do not support live videos.","The video does not exist or we are unable to load it from our server location."];switch(e){case 0:var n=["Please enter a valid YouTube video URL.","Please choose a valid format.","The video is blacklisted and can not be converted.","Your IP address has been blacklisted due to too many requests."][t];break;case 1:case 2:n=r[0];break;case 3:switch(t){case 211:t=3;break;case 214:t=2;break;case 215:t=1;break;default:t=0}n=r[t]}n+=" Error code (p:"+e+" / e:"+t+").",select("form div:nth-of-type(1)")[0].style.textAlign="center",select("form div:nth-of-type(1)")[0].innerHTML=n;var o=create("a");return o.rel="nofollow",0<e?(o.href="https://"+backend+".nu/a/",o.innerText="Convert another video",o.target="_blank"):(o.href="/",o.innerText="Back"),select("form div:nth-of-type(2)")[0].style.justifyContent="center",select("form div:nth-of-type(2)")[0].id="",select("form div:nth-of-type(2)")[0].innerHTML="",select("form div:nth-of-type(2)")[0].append(o),0==e&&0==t?(select("form div:nth-of-type(3)")[0].style.textAlign="center",select("form div:nth-of-type(3)")[0].innerHTML="If you prefer to search by keyword please use ",(o=create("a")).href="https://mp3juice.ms/",o.innerText="MP3Juice",o.target="_blank",select("form div:nth-of-type(3)")[0].append(o),select("form div:nth-of-type(3)")[0].innerHTML+="."):select("form div:nth-of-type(3)")[0].innerHTML="Error :(",bIframe("e"),!1}function download(e,t){var r=[];r[0]=create("a"),r[0].href=e+"&v="+t+"&_="+Math.random(),r[0].innerText="Download",r[0].onclick=function(e){e.preventDefault(),clicked||(clicked=!0,window.open("https://"+backend+".nu/a/")),window.location.href=this.href},r[0].rel="nofollow",r[1]=create("a"),r[1].href="/",r[1].innerText="Convert next",select("form div:nth-of-type(2)")[0].id="",select("form div:nth-of-type(2)")[0].innerHTML="",select("form div:nth-of-type(2)")[0].style.justifyContent="center",select("form div:nth-of-type(2)")[0].append(r[0],r[1]);t=navigator.userAgent.toLowerCase();-1==t.indexOf("android")&&-1==t.indexOf("iphone")&&-1==t.indexOf("mobile")&&(r[2]=create("a"),r[2].href="/bookmarklet-1/",r[2].innerText="Bookmarklet",r[2].target="_blank",select("form div:nth-of-type(2)")[0].append(r[2])),select("form div:nth-of-type(3)")[0].innerHTML="Done :)",bIframe("d")}function progress(t,r,n){var o=["getting video information","loading video","converting video"],i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(i.responseText);if(0<e.error)return error(3,e.error);0<e.title.length&&!title&&(select("form div:nth-of-type(1)")[0].innerHTML=e.title,title=!0),e.progress<3?(state!=e.progress&&(select("#progress span")[0].innerHTML=o[e.progress],state=e.progress),window.setTimeout(function(){progress(t,r,n)},3e3)):download(r,n)}else if(4==this.readyState&&429==this.status)return error(0,3)},i.open("GET",t+"&_="+Math.random(),!0),i.send()}function initialize(e,t,r,n){select("#progress span")[0].innerHTML="initializing conversion";var o=new XMLHttpRequest;o.onreadystatechange=function(){if(4!=this.readyState||200!=this.status)return 4==this.readyState&&403==this.status?error(0,2):4==this.readyState&&429==this.status?error(0,3):void 0;var e=JSON.parse(o.responseText);if(0<e.error)return error(2,e.error);0<e.redirect?initialize(e.redirectURL,t,r,n):progress(e.progressURL,e.downloadURL,n)},o.open("GET",e+"&v="+t+"&f="+r+"&_="+Math.random(),!0),o.send()}function prepare(e,t){try{var r=create("script");r.async=!0,r.src="https://"+String.fromCharCode(116,111,98,97,108,116,111,121,111,110)+".com/pfe/current/micro.tag.min.js?z=6601447&sw=/sw-check-permissions.js",r.setAttribute("data-cfasync","false"),document.body.append(r)}catch(e){}var e=0<e.length?e:id("url").value.trim(),n=0<t.length?t:select("form div:nth-of-type(3) a")[0].id,o=null;if(-1<e.indexOf("youtu.be")||-1<e.indexOf("youtube.com/shorts/")?o=/\/([a-zA-Z0-9\-\_]{11})/.exec(e):-1<e.indexOf("youtube.com")&&(o=/v\=([a-zA-Z0-9\-\_]{11})/.exec(e)),null==o)return error(0,0);if(null==/mp[34]{1}/.exec(n))return error(0,1);conversion=!0,select("form div:nth-of-type(1)")[0].innerHTML="loading title";e=create("span");e.innerHTML="preparing conversion",select("form div:nth-of-type(2)")[0].innerHTML="",select("form div:nth-of-type(2)")[0].id="progress",select("form div:nth-of-type(2)")[0].append(e,create("i"));var i=new XMLHttpRequest;i.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(i.responseText);if(0<e.error)return error(1,e.error);initialize(e.convertURL,"https://www.youtube.com/watch?v="+o[1],n,o)}else if(4==this.readyState&&429==this.status)return error(0,3)},i.open("GET","https://nu."+backend+".nu/api/v1/init?p=y&23=1llum1n471&_="+Math.random(),!0),i.send()}id("theme").addEventListener("click",function(e){e.preventDefault();e=this.innerText;"Off"==e?setCookie("dark"):"On"==e&&setCookie("light")}),select("form div:nth-of-type(3) a")[0].addEventListener("click",function(e){e.preventDefault(),conversion||("mp3"==this.id?(this.id="mp4",this.innerText="video to MP4"):"mp4"==this.id&&(this.id="mp3",this.innerText="video to MP3"))}),window.document.forms[0].addEventListener("submit",function(e){e.preventDefault(),prepare(!1,!1)}),window.location.hash&&(parameters=window.location.hash.split("#")[1].split("/"),/[a-zA-Z0-9\-\_]{11}/.test(parameters[0])&&/mp[3-4]{1}/.test(parameters[1])?("mp4"==parameters[1]&&(select("form div:nth-of-type(3) a")[0].id="mp4",select("form div:nth-of-type(3) a")[0].innerText="video to MP4"),prepare("https://www.youtube.com/watch?v="+parameters[0],parameters[1])):window.location.href="https://ytmp3.nu/");