function create(e){return document.createElement(e)}function id(e){return document.getElementById(e)}function select(e,t){return document.querySelectorAll(e)[t]}function tag(e,t){return document.getElementsByTagName(e)[t]}function setCookie(e){var t=new Date;t.setTime(t.getTime()+6048e5);document.cookie="theme="+e+"; SameSite=Lax; expires="+t.toUTCString()+"; path=/",location.reload()}function error(){select("form div:nth-of-type(1)",0).style.textAlign="center",select("form div:nth-of-type(1)",0).innerHTML="Please enter a valid YouTube video URL.";var e=create("a");return e.href="/shortener-3/",e.innerText="Back",select("form div:nth-of-type(2)",0).style.justifyContent="center",select("form div:nth-of-type(2)",0).innerHTML="",select("form div:nth-of-type(2)",0).append(e),!1}function display(e,t){var n=create("input");n.id="yt",n.name="yt",n.readOnly=!0,n.type="text",n.value=e;var r=create("button");r.innerHTML="Copy",r.onclick=function(e){e.preventDefault(),id("yt").select(),id("yt").setSelectionRange(0,99999),navigator.clipboard.writeText(id("yt").value)};e=create("div");e.append(n,r);n=create("input");n.id="yts",n.name="yts",n.readOnly=!0,n.type="text",n.value=t;r=create("button");r.innerHTML="Copy",r.onclick=function(e){e.preventDefault(),id("yts").select(),id("yts").setSelectionRange(0,99999),navigator.clipboard.writeText(id("yts").value)};t=create("div");t.append(n,r),select("form div:nth-of-type(1)",0).innerHTML="Short URLs (youtub.be / yts.nu)",select("form div:nth-of-type(2)",0).style.display="block",select("form div:nth-of-type(2)",0).innerHTML="",select("form div:nth-of-type(2)",0).append(e,t)}function shorten(e){var t=e||id("url").value.trim();if(!(e=(-1<t.indexOf("youtube.com/watch?v=")||-1<t.indexOf("youtube.com/shorts/"))&&/([a-zA-Z0-9\-\_]{11})/.exec(t))||null==e)return error();t=new XMLHttpRequest;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);if(0<e.error)return error();display(e.yt,e.yts)}},t.open("GET","https://ytmp3.nu/shortener.php?v="+e[1],!0),t.send()}var parameter;id("theme").addEventListener("click",function(e){e.preventDefault();e=this.innerText;"Off"==e?setCookie("dark"):"On"==e&&setCookie("light")}),window.document.forms[0].addEventListener("submit",function(e){e.preventDefault(),shorten(!1)}),window.location.hash&&(parameter=window.location.hash.split("#")[1],/[a-zA-Z0-9\-\_]{11}/.test(parameter)?shorten("https://www.youtube.com/watch?v="+parameter):window.location.href="https://ytmp3.nu/shortener-3/");